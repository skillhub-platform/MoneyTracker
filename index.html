<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí∞ Money Tracker - Friend Loans</title>
    <style>

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    background-attachment: fixed;
    min-height: 100vh;
    padding: 20px;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}


header {
    text-align: center;
    color: white;
    margin-bottom: 30px;
    animation: fadeInDown 0.6s ease-out;
}

header h1 {
    font-size: 3em;
    margin-bottom: 10px;
    text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
    animation: pulse 2s ease-in-out infinite;
}

.subtitle {
    font-size: 1.2em;
    opacity: 0.95;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.balance-card {
    background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
    border-radius: 20px;
    padding: 40px;
    margin-bottom: 30px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
    text-align: center;
    animation: fadeInUp 0.6s ease-out;
    border: 3px solid rgba(255, 255, 255, 0.5);
}

.balance-label {
    font-size: 1.4em;
    color: #666;
    margin-bottom: 15px;
    font-weight: 600;
}

.balance-amount {
    font-size: 4em;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(102, 126, 234, 0.2);
    animation: scaleIn 0.5s ease-out;
    transition: all 0.3s ease;
}

.balance-amount:hover {
    transform: scale(1.05);
}

.balance-summary {
    display: flex;
    justify-content: center;
    gap: 60px;
    flex-wrap: wrap;
}

.summary-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px 30px;
    border-radius: 15px;
    transition: transform 0.3s ease;
}

.summary-item:hover {
    transform: translateY(-5px);
}

.summary-item.received {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
}

.summary-item.returned {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
}

.summary-icon {
    font-size: 2.5em;
}

.summary-label {
    font-size: 1em;
    color: #666;
    margin-bottom: 5px;
}

.summary-value {
    font-size: 1.6em;
    font-weight: bold;
}

.summary-item.received .summary-value {
    color: #059669;
}

.summary-item.returned .summary-value {
    color: #dc2626;
}

.forms-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
}

.form-card {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    animation: fadeInUp 0.6s ease-out;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.form-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
}

.form-card h2 {
    margin-bottom: 10px;
    font-size: 1.8em;
}

.form-description {
    font-size: 0.95em;
    color: #666;
    margin-bottom: 20px;
}

.received-card {
    border-top: 5px solid #10b981;
}

.received-card h2 {
    color: #10b981;
}

.returned-card {
    border-top: 5px solid #ef4444;
}

.returned-card h2 {
    color: #ef4444;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #555;
    font-size: 1.05em;
}

.form-group input {
    width: 100%;
    padding: 14px;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-size: 1.05em;
    transition: all 0.3s;
    background: #f9fafb;
}

.form-group input:focus {
    outline: none;
    border-color: #667eea;
    background: white;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
}

.btn {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: 12px;
    font-size: 1.1em;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}

.btn:active {
    transform: translateY(0);
}

.btn-received {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.btn-received:hover {
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
}

.btn-returned {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.btn-returned:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
}

/* History Section */
.history-section {
    background: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    animation: fadeInUp 0.8s ease-out;
}

.history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    flex-wrap: wrap;
    gap: 15px;
}

.history-header h2 {
    font-size: 1.8em;
    color: #333;
}

.btn-clear {
    width: auto;
    padding: 10px 20px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    font-size: 1em;
}

.btn-clear:hover {
    background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
}

.transaction-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.no-transactions {
    text-align: center;
    color: #999;
    padding: 50px 20px;
    font-style: italic;
    font-size: 1.1em;
}

.transaction-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-radius: 15px;
    border-left: 6px solid;
    background: #f9fafb;
    transition: all 0.3s;
    animation: slideIn 0.4s ease-out;
}

.transaction-item:hover {
    transform: translateX(8px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.transaction-item.received {
    border-left-color: #10b981;
    background: linear-gradient(90deg, #ecfdf5 0%, #f9fafb 100%);
}

.transaction-item.returned {
    border-left-color: #ef4444;
    background: linear-gradient(90deg, #fef2f2 0%, #f9fafb 100%);
}

.transaction-info {
    flex: 1;
}

.transaction-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 8px;
    flex-wrap: wrap;
}

.transaction-type {
    font-weight: 700;
    font-size: 1.2em;
}

.transaction-item.received .transaction-type {
    color: #10b981;
}

.transaction-item.returned .transaction-type {
    color: #ef4444;
}

.transaction-amount {
    font-size: 1.5em;
    font-weight: 900;
    padding: 5px 15px;
    border-radius: 8px;
}

.transaction-item.received .transaction-amount {
    color: #10b981;
    background: #d1fae5;
}

.transaction-item.returned .transaction-amount {
    color: #ef4444;
    background: #fee2e2;
}

.transaction-date {
    color: #666;
    font-size: 1em;
    font-weight: 500;
}

.transaction-note {
    color: #555;
    font-size: 1em;
    margin-top: 8px;
    padding: 8px 12px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 8px;
    font-weight: 500;
}

.transaction-balance {
    font-size: 0.95em;
    color: #667eea;
    font-weight: 700;
    margin-top: 10px;
    padding: 6px 12px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 8px;
    display: inline-block;
}

.transaction-actions {
    display: flex;
    gap: 10px;
}

.btn-delete {
    padding: 12px 20px;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1em;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-delete:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: scale(1.05);
}
@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.02);
    }
}

@keyframes slideInNotification {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutNotification {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 18px 25px;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    font-weight: 600;
    font-size: 1.05em;
    animation: slideInNotification 0.4s ease-out;
}

.notification-success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.notification-error {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

@media (max-width: 768px) {
    body {
        padding: 15px;
    }

    header h1 {
        font-size: 2.2em;
    }

    .balance-amount {
        font-size: 3em;
    }

    .balance-summary {
        gap: 30px;
    }

    .summary-item {
        padding: 15px 20px;
    }

    .forms-container {
        grid-template-columns: 1fr;
    }

    .history-header {
        flex-direction: column;
        align-items: stretch;
    }

    .btn-clear {
        width: 100%;
    }

    .transaction-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }

    .transaction-actions {
        width: 100%;
    }

    .btn-delete {
        width: 100%;
    }

    .notification {
        left: 15px;
        right: 15px;
        top: 15px;
    }
}

@media (max-width: 480px) {
    body {
        padding: 10px;
    }

    header h1 {
        font-size: 1.8em;
    }

    .subtitle {
        font-size: 1em;
    }

    .balance-card {
        padding: 25px 20px;
    }

    .balance-amount {
        font-size: 2.5em;
    }

    .form-card {
        padding: 20px;
    }

    .summary-icon {
        font-size: 2em;
    }

    .summary-value {
        font-size: 1.3em;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ Money Tracker</h1>
            <p class="subtitle">Track money for your friend easily</p>
        </header>

        <div class="balance-card">
            <div class="balance-label">üíµ Current Total Money</div>
            <div class="balance-amount" id="currentBalance">‚Çπ0.00</div>
            <div class="balance-summary">
                <div class="summary-item received">
                    <span class="summary-icon">‚ûï</span>
                    <div>
                        <div class="summary-label">Total Added</div>
                        <div class="summary-value" id="totalReceived">‚Çπ0.00</div>
                    </div>
                </div>
                <div class="summary-item returned">
                    <span class="summary-icon">‚ûñ</span>
                    <div>
                        <div class="summary-label">Total Removed</div>
                        <div class="summary-value" id="totalReturned">‚Çπ0.00</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="forms-container">
            <div class="form-card received-card">
                <h2>‚ûï Add Money</h2>
                <p class="form-description">Add money you received or holding</p>
                <form id="addMoneyForm">
                    <div class="form-group">
                        <label for="addAmount">üíµ Amount (‚Çπ)</label>
                        <input type="number" id="addAmount" placeholder="Enter amount" required min="0.01" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="addDate">üìÖ Date</label>
                        <input type="date" id="addDate" required>
                    </div>
                    <div class="form-group">
                        <label for="addNote">üìù Note (Optional)</label>
                        <input type="text" id="addNote" placeholder="e.g., Received from Rahul">
                    </div>
                    <button type="submit" class="btn btn-received">
                        ‚ûï Add Money
                    </button>
                </form>
            </div>

            <div class="form-card returned-card">
                <h2>‚ûñ Remove Money</h2>
                <p class="form-description">Remove money you returned or spent</p>
                <form id="deductMoneyForm">
                    <div class="form-group">
                        <label for="deductAmount">üíµ Amount (‚Çπ)</label>
                        <input type="number" id="deductAmount" placeholder="Enter amount" required min="0.01" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="deductDate">üìÖ Date</label>
                        <input type="date" id="deductDate" required>
                    </div>
                    <div class="form-group">
                        <label for="deductNote">üìù Note (Optional)</label>
                        <input type="text" id="deductNote" placeholder="e.g., Returned to Priya">
                    </div>
                    <button type="submit" class="btn btn-returned">
                        ‚ûñ Remove Money
                    </button>
                </form>
            </div>
        </div>

        <div class="history-section">
            <div class="history-header">
                <h2>üìã All Transactions</h2>
                <button id="clearAllBtn" class="btn btn-clear">üóëÔ∏è Clear All</button>
            </div>
            <div id="transactionHistory" class="transaction-list">
                <p class="no-transactions">No transactions yet. Start by adding money! üöÄ</p>
            </div>
        </div>
    </div>

    <script>

class MoneyTracker {
    constructor() {
        this.transactions = this.loadTransactions();
        this.init();
    }

    init() {
  
        this.setDefaultDates();
        

        document.getElementById('addMoneyForm').addEventListener('submit', (e) => {
            e.preventDefault();
            this.addMoney();
        });

        document.getElementById('deductMoneyForm').addEventListener('submit', (e) => {
            e.preventDefault();
            this.removeMoney();
        });

        document.getElementById('clearAllBtn').addEventListener('click', () => {
            this.clearAllData();
        });


        this.updateDisplay();
    }

    setDefaultDates() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('addDate').value = today;
        document.getElementById('deductDate').value = today;
    }

    loadTransactions() {
        try {
            const saved = localStorage.getItem('moneyTrackerData');
            if (saved) {
                return JSON.parse(saved);
            }
        } catch (error) {
            console.error('Error loading transactions:', error);
        }
        return [];
    }

    saveTransactions() {
        try {
            localStorage.setItem('moneyTrackerData', JSON.stringify(this.transactions));
        } catch (error) {
            console.error('Error saving transactions:', error);
            this.showNotification('Error saving data!', 'error');
        }
    }

    addMoney() {
        const amount = parseFloat(document.getElementById('addAmount').value);
        const date = document.getElementById('addDate').value;
        const note = document.getElementById('addNote').value.trim();

        if (!amount || amount <= 0) {
            this.showNotification('Please enter a valid amount!', 'error');
            return;
        }

        if (!date) {
            this.showNotification('Please select a date!', 'error');
            return;
        }

        const transaction = {
            id: Date.now(),
            type: 'add',
            amount: amount,
            date: date,
            note: note || '',
            timestamp: Date.now()
        };

        this.transactions.push(transaction);
        
        
        this.saveTransactions();
        
    
        this.updateDisplay();

        
        document.getElementById('addMoneyForm').reset();
        this.setDefaultDates();

        
        this.showNotification(`‚úÖ Added ‚Çπ${amount.toFixed(2)} successfully!`, 'success');
    }

   
    removeMoney() {
        const amount = parseFloat(document.getElementById('deductAmount').value);
        const date = document.getElementById('deductDate').value;
        const note = document.getElementById('deductNote').value.trim();

       
        if (!amount || amount <= 0) {
            this.showNotification('Please enter a valid amount!', 'error');
            return;
        }

        if (!date) {
            this.showNotification('Please select a date!', 'error');
            return;
        }


        const currentBalance = this.calculateTotalBalance();
        if (amount > currentBalance) {
            const proceed = confirm(
                `‚ö†Ô∏è Warning!\n\n` +
                `You're removing ‚Çπ${amount.toFixed(2)}\n` +
                `Current balance: ‚Çπ${currentBalance.toFixed(2)}\n\n` +
                `This will make your balance negative (‚Çπ${(currentBalance - amount).toFixed(2)})\n\n` +
                `Do you want to continue?`
            );
            if (!proceed) return;
        }

       
        const transaction = {
            id: Date.now(),
            type: 'remove',
            amount: amount,
            date: date,
            note: note || '',
            timestamp: Date.now()
        };

        this.transactions.push(transaction);
        
        
        this.saveTransactions();
        
        
        this.updateDisplay();

      
        document.getElementById('deductMoneyForm').reset();
        this.setDefaultDates();

        
        this.showNotification(`‚úÖ Removed ‚Çπ${amount.toFixed(2)} successfully!`, 'success');
    }

   
    calculateTotalBalance() {
        let balance = 0;
        this.transactions.forEach(transaction => {
            if (transaction.type === 'add') {
                balance += transaction.amount;
            } else if (transaction.type === 'remove') {
                balance -= transaction.amount;
            }
        });
        return balance;
    }

    calculateTotalAdded() {
        return this.transactions
            .filter(t => t.type === 'add')
            .reduce((sum, t) => sum + t.amount, 0);
    }

    calculateTotalRemoved() {
        return this.transactions
            .filter(t => t.type === 'remove')
            .reduce((sum, t) => sum + t.amount, 0);
    }

    
    deleteTransaction(id) {
        if (confirm('‚ùå Are you sure you want to delete this transaction?')) {
            
            this.transactions = this.transactions.filter(t => t.id !== id);
            
           
            this.saveTransactions();
            
           
            this.updateDisplay();
            
         
            this.showNotification('üóëÔ∏è Transaction deleted!', 'success');
        }
    }

    clearAllData() {
        if (confirm('‚ö†Ô∏è WARNING!\n\nThis will delete ALL transactions permanently!\n\nAre you sure?')) {
            this.transactions = [];
            
            this.saveTransactions();
            
            this.updateDisplay();
            
            this.showNotification('üóëÔ∏è All data cleared!', 'success');
        }
    }

    formatDate(dateString) {
        const date = new Date(dateString);
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        return `${day}/${month}/${year}`;
    }

    formatMoney(amount) {
        return `‚Çπ${Math.abs(amount).toFixed(2)}`;
    }

    showNotification(message, type) {
        const existingNotification = document.querySelector('.notification');
        if (existingNotification) {
            existingNotification.remove();
        }

        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.style.animation = 'slideOutNotification 0.4s ease-out';
            setTimeout(() => notification.remove(), 400);
        }, 3000);
    }

 
    updateDisplay() {
  
        const totalBalance = this.calculateTotalBalance();
        const totalAdded = this.calculateTotalAdded();
        const totalRemoved = this.calculateTotalRemoved();

        const balanceElement = document.getElementById('currentBalance');
        balanceElement.textContent = this.formatMoney(totalBalance);

        if (totalBalance > 0) {
            balanceElement.style.color = '#10b981';
        } else if (totalBalance < 0) {
            balanceElement.style.color = '#ef4444';
        } else {
            balanceElement.style.color = '#667eea';
        }

        document.getElementById('totalReceived').textContent = this.formatMoney(totalAdded);
        document.getElementById('totalReturned').textContent = this.formatMoney(totalRemoved);

        this.renderTransactionHistory();
    }

    renderTransactionHistory() {
        const historyContainer = document.getElementById('transactionHistory');

        if (this.transactions.length === 0) {
            historyContainer.innerHTML = '<p class="no-transactions">No transactions yet. Start by adding money! üöÄ</p>';
            return;
        }

        const sortedTransactions = [...this.transactions].sort((a, b) => b.timestamp - a.timestamp);

        let runningBalance = 0;
        const transactionsWithBalance = [];
        
        const chronological = [...this.transactions].sort((a, b) => a.timestamp - b.timestamp);
        chronological.forEach(transaction => {
            if (transaction.type === 'add') {
                runningBalance += transaction.amount;
            } else {
                runningBalance -= transaction.amount;
            }
            transactionsWithBalance.push({
                ...transaction,
                balanceAfter: runningBalance
            });
        });

        const balanceMap = new Map(transactionsWithBalance.map(t => [t.id, t.balanceAfter]));

        historyContainer.innerHTML = sortedTransactions.map(transaction => {
            const balanceAfter = balanceMap.get(transaction.id);
            const isAdd = transaction.type === 'add';
            
            return `
                <div class="transaction-item ${isAdd ? 'received' : 'returned'}">
                    <div class="transaction-info">
                        <div class="transaction-header">
                            <span class="transaction-type">
                                ${isAdd ? '‚ûï Money Added' : '‚ûñ Money Removed'}
                            </span>
                            <span class="transaction-amount">
                                ${isAdd ? '+' : '-'}${this.formatMoney(transaction.amount)}
                            </span>
                        </div>
                        <div class="transaction-date">
                            üìÖ ${this.formatDate(transaction.date)}
                        </div>
                        ${transaction.note ? `<div class="transaction-note">üìù ${transaction.note}</div>` : ''}
                        <div class="transaction-balance">
                            üí∞ Balance after: ${this.formatMoney(balanceAfter)}
                        </div>
                    </div>
                    <div class="transaction-actions">
                        <button class="btn-delete" onclick="tracker.deleteTransaction(${transaction.id})">
                            üóëÔ∏è Delete
                        </button>
                    </div>
                </div>
            `;
        }).join('');
    }
}

let tracker;
document.addEventListener('DOMContentLoaded', () => {
    tracker = new MoneyTracker();
});
    </script>
</body>
</html>

